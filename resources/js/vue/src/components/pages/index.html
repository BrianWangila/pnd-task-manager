<!DOCTYPE html>
<html>
<head>
	<title>Subscribe</title>
	<script type="text/javascript">
        
		function subscribe() {
			// Get form values
			var email = document.getElementById("email").value;
			var message = document.getElementById("message").value;

			// Validate email
			if (!validateEmail(email)) {
				alert("Please enter a valid email address.");
				return false;
			}

			// Send data to backend/db using fetch

            fetch('/subscribe', {     //this is your endpoint for the backend
                method: POST,
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    email: email,
				    message: message 
                })
            })
            .then((res) => res.json())
            .then((data) => alert("Thank you for subscribing!"));

			// Reset form
			document.getElementById("subscribe-form").reset();
            return true;
		}

		function validateEmail(email) {
			var re = /\S+@\S+\.\S+/;
			return re.test(email);
		}
	</script>
</head>
    <body>
        <form id="subscribe-form" onsubmit="return subscribe()">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="message">Message:</label>
            <textarea id="message" name="message" required></textarea><br>

            <button type="submit">Subscribe</button>
        </form>
    </body>
</html>>
		